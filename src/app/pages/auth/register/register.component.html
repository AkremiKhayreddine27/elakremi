<nb-auth-block>
    <h2 class="title">S'inscrire</h2>
    <form (ngSubmit)="register()" #form="ngForm">
        <nb-alert *ngIf="showMessages.error && errors?.length && !submitted" outline="danger">
            <div>
                <strong>Oh snap!</strong>
            </div>
            <div *ngFor="let error of errors">{{ error }}</div>
        </nb-alert>
        <nb-alert *ngIf="showMessages.success && messages?.length && !submitted" outline="success">
            <div>
                <strong>Hooray!</strong>
            </div>
            <div *ngFor="let message of messages">{{ message }}</div>
        </nb-alert>
        <div class="form-group">
            <label for="input-name" class="sr-only">Nom</label>
            <input class="form-control" [(ngModel)]="user.displayName" #fullName="ngModel" id="input-name" name="fullName" placeholder="Full name"
                autofocus required="true" minlength="3" maxlength="20">
        </div>
        <div class="form-group">
            <label for="input-email" class="sr-only">Adresse e-mail</label>
            <input class="form-control" [(ngModel)]="user.email" #email="ngModel" id="input-email" name="email" pattern=".+@.+..+" placeholder="Adresse e-mail"
                required="true">
        </div>
        <div class="form-group">
            <label for="input-password" class="sr-only">Mot de passe</label>
            <input class="form-control" [(ngModel)]="user.password" #password="ngModel" type="password" id="input-password" name="password"
                placeholder="Mot de passe" required="true" minlength="6" maxlength="20">
        </div>
        <div class="form-group">
            <label for="input-re-password" class="sr-only">Répéter le mot de passe</label>
            <input class="form-control" [(ngModel)]="user.confirmPassword" #rePass="ngModel" type="password" id="input-re-password" name="rePass"
                placeholder="Répéter le mot de passe" required="true">
        </div>
        <div class="form-group accept-group col-sm-12" *ngIf="">
            <nb-checkbox name="terms" [(ngModel)]="user.terms" required="true">
                Agree to
                <a href="#" target="_blank">
                    <strong>Terms & Conditions</strong>
                </a>
            </nb-checkbox>
        </div>
        <button class="btn btn-hero-success w-100" [disabled]="submitted || !form.valid" [class.btn-pulse]="submitted">
            S'inscrire
        </button>
    </form>
    <div class="links">
        <small class="form-text">Ou se connecter avec:</small>
        <div class="socials">
            <a (click)="loginWithGoogle()" class="socicon-google cursor-pointer with-icon"></a>
        </div>
        <small class="form-text">
            Vous avez déjà un compte?
            <a routerLink="../login">
                <strong>Se connecter</strong>
            </a>
        </small>
    </div>
</nb-auth-block>